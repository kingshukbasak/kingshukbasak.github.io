window.onload=function(){function e(e){var t,n,a,o,r=0;for(n=e.number,isNaN(n)&&(n=0),a=0;n>=a;a++){for(t=document.createElement(e.element),r=2;r<Object.keys(e).length;r++){var l=Object.keys(e)[r],d=typeof e[l];if("object"==d&&"style"!=l&&"addEventListener"!=l)t[l]=e[l][a];else if("style"==l)for(o in e[l])t[l][o]=e[l][o];else if("addEventListener"==l){var i=e[l][a][0],s=e[l][a][1];t[l](i,s)}else t[l]=e[l]}var c=document.getElementById(e.parentelement);c.appendChild(t)}}function t(){function t(e){r.clear();var t,o,i,s=document.getElementById("selectcategory");if(s=s.options[s.selectedIndex].id,"object"==typeof e&&(e=!0),1==e&&(document.getElementById("selectsort").selectedIndex=0),l=[],c=0,"impassioned"!=s){if("vernaculars"!=s)for(d=0;n>d;d++)-1!=data[d].text.search(s)&&a(c++,data[d]);else for(d=0;n>d;d++)for(p=0,x=data[d].text.length;x>p;p++)if(t=data[d].text.charCodeAt(p),t>2e3&&3e3>t){a(c++,data[d]);break}}else for(d=0;n>d;d++)for(i=0,x=data[d].text.search("http"),-1==x&&(x=data[d].text.length),p=0;x>p;p++)if(o=data[d].text.charCodeAt(p),o>=65&&90>=o?i++:i=0,5==i){a(c++,data[d]);break}}function a(e,t){v={retweet:t.retweet_count,favcount:t.favorite_count,folllowcount:t.user.followers_count,createdat:t.created_at,tweet:t.text},l[e]=v}function o(){r.clear(),i=0,s=80,u=10,f=10,m=l.length;var e,t=document.getElementById("selectsort"),n=40/m;if(t=t.options[t.selectedIndex].id,"select1"!=t)for(l.sort(function(e,n){return e[t]-n[t]}),p=0;m>p;p++){u+=n,f+=n,i+u>=1e3&&(s+=f+3,i=0);var a=r.image("twitter.svg",-100,-100,u,f);a.attr({title:l[p].tweet,opacity:1}),e=Raphael.animation({x:i,y:s},100),a.animate(e.delay(100*(p+1))),a.mouseover(function(e,t,n,a){return function(){var o=a.getBBox().x2-a.getBBox().x,l=r.set();l.push(r.text(t+o+40,n,"Retweet: "+e.retweet),r.text(t+o+60,n+10,"Favourite Count: "+e.favcount),r.text(t+o+118,n+20,"Created At: "+e.createdat)),a.mouseout(function(){l.remove()})}}(l[p],i,s,a)),i+=u+3}}var r=Raphael(100,50,1230,1050);e({element:"div",parentelement:"maindiv",id:"sort",style:{left:"254px",position:"absolute",top:"11px",width:"873px"}}),e({element:"label",parentelement:"sort",innerHTML:"SORT BY",style:{border:"1px solid black",padding:"5px 60px 5px 33px"}}),e({element:"select",parentelement:"sort",id:"selectcategory",style:{padding:"5px 60px 5px 60px",margin:"10px 2px"},addEventListener:[["change",t]]}),e({element:"option",parentelement:"selectcategory",number:7,innerHTML:["SELECT","View All","Impassioned","Exclamatory","Quotation","Promotion","Hashtags","@tags","Vernaculars"],selected:["","selected"],id:["select","","impassioned","!!","~","http","#","@","vernaculars"]}),e({element:"label",parentelement:"sort",innerHTML:"SORT BY",style:{border:"1px solid black",padding:"5px 60px 5px 33px"}}),e({element:"select",parentelement:"sort",id:"selectsort",style:{padding:"5px 60px 5px 60px",margin:"10px 2px"},addEventListener:[["change",o]]}),e({element:"option",parentelement:"selectsort",number:3,innerHTML:["SELECT","RETWEET","FAVOURITES","CREATED AT"],selected:["","selected"],id:["select1","retweet","favcount","createdat"]});var l,d,i,s,c,p,m,x,u,f,v={};t(!1),o()}var n=data.length,a=document.getElementsByTagName("body")[0];a.id="body",e({element:"div",parentelement:"body",id:"maindiv"}),t()};